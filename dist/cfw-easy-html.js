!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["cfw-easy-html"]=e():t["cfw-easy-html"]=e()}(self,(function(){return(()=>{"use strict";var t={138:(t,e,r)=>{r.r(e),r.d(e,{$:()=>s});class n{constructor(t,e){this.callback=t,this.options=e,this.index=0}async element(t){var e=this.callback;"function"==typeof e?e(t):await e(t),await Promise.resolve(e(t)),this.index+=1}}class s{constructor(t){this._request="string"==typeof t?new Response((new TextEncoder).encode(t)):t,this.chain=[],this.has_finished=!1}find(t,e){return this.chain.push({type:"target",selector:t,options:Object.assign({},e)}),this}setClass(t){return this.chain.push({type:"transform",function:e=>{e.setAttribute("class",t||"")}}),this}removeClass(t,e){return this.chain.push({type:"transform",function:r=>{r.setAttribute("class",element.getAttribute("class").replace(t,e.replace||""))}}),this}addClass(t,e){var r="append"==((e=e||{}).mode||"append");return this.chain.push({type:"transform",function:e=>{var n=e.getAttribute("class")||""+t;r||(n=t+e.getAttribute("class")||""),e.setAttribute("class",n)}}),this}setContent(t,e){return this.chain.push({type:"transform",function:r=>{r.setInnerContent(t,e)}}),this}removeContent(){return this.chain.push({type:"transform",function:t=>{t.setInnerContent("")}}),this}_directTransform(t,e,r){return this.chain.push({type:"transform",function:n=>{"object"==typeof e&&"function"==typeof e.execute&&(e=e.execute()),n[t](e,r)}}),this}append(t,e){return this.chain.push({type:"transform",function:r=>{r.append(t,e)}}),this}prepend(t,e){return this.chain.push({type:"transform",function:r=>{r.prepend(t,e)}}),this}before(t,e){return this._directTransform("before",t,e)}after(t,e){return this._directTransform("after",t,e)}removeElement(){return this._directTransform("remove","")}setAttribute(t,e,r){return this.chain.push({type:"transform",function:r=>{r.setAttribute(t,e)}}),this}forEach(t){return this.chain.push({type:"transform",function:t}),this}commit(){var t=this.execute();return this._request=t,this.chain=[],this.has_finished=!1,this}execute(t){t=t||{};var e=0,r=new HTMLRewriter;return this.chain.forEach((t=>{if("transform"==t.type){var s="*",i={};this.chain.slice(0,e).forEach((t=>{"target"==t.type&&(s=t.selector,i=t.options)})),r.on(s,new n(t.function,{selectorOptions:i}))}e+=1})),this.has_finished=!0,r.transform(this._request)}}}},e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(138)})()}));